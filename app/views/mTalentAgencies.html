<h2 class="heading">Manage Talent Agencies</h2>
<button class="btn btn-green1 btn-micro" (click)=cdlg.show(data)>Create +</button>

<form style="width:250px; float:right;">
	<input class="form-control input-sm" type="text" placeholder="Search this table..." [(ngModel)]="kw" name="kw">
</form>

<div class="clearfix br"></div>

<table class="tbl">
	<thead>
		<tr class="sorter">
			<th class="align-left" (click)="SortBy('name')">Agency</th>
			<th (click)="SortBy('id')">ID</th>
			<th (click)="SortBy('subCount')">Subs</th>
			<th>Email</th>
			<th (click)="SortBy('createdAt')">Signup Date</th>
			<th>Actions</th>
		</tr>
	</thead>
	<tbody>
		<tr *ngFor="let ag of list | filter:FilterUsers">
			<td class="align-left"><a [routerLink]="['/mTalents', ag.id]">{{ag.name}}</a></td>
			<td>{{ag.id}}</td>
			<td>{{ag.subCount}}</td>
			<td>{{ag.email}}</td>
			<td>{{ag.createdAt * 1000 | date}}</td>
			<td><button class="btn-info btn-micro ghost" (click)=edlg.show(ag)>Edit</button></td>
		</tr>
	</tbody>
</table>

<smart-form #cdlg class="dialog" [fields]=createFields (onSave)="save($event.data, $event.done)" title="Create Talent Agency"></smart-form>
<smart-form #edlg class="dialog" [fields]=editFields (onSave)="edit($event.data, $event.done)" title="Edit Talent Agency"></smart-form>
