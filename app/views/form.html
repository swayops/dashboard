<div *ngIf=showDialog>
	<h2 class="heading" *ngIf=title>{{title}}</h2>
	<form #f="ngForm">
		<div class="form-group">
			<template ngFor let-fld [ngForOf]="fields">
				<div>
					<div class="grid-20 mobile-grid-100 grid-parent">
						{{fld.title}}<span *ngIf=fld.req class="error" title="required"> *</span>
					</div>
					<div class="grid-80 mobile-grid-100 grid-parent">
						<textarea #input *ngIf="fld.textarea" class="form-control" name="{{fld.name}}" placeholder="{{fld.placeholder || fld.title}}"
							(blur)="updateValue(input)" (focus)="setAttrs(input)">{{binders[fld.name].value}}</textarea>
						<input #input *ngIf="fld.input" class="form-control" type="{{fld.input}}" name="{{fld.name}}" placeholder="{{fld.placeholder || fld.title}}"
							[value]="getValue(input)" (change)="updateValue(input)" (focus)="setAttrs(input)" title="{{fld.placeholder || fld.title}}">
						<div class="onoffswitch status" data-for="toggle-status" *ngIf="fld.toggle">
							<input #input type="checkbox" name="status" class="onoffswitch-checkbox" name="{{fld.name}}"
								[checked]="getValue(input)" (focus)="setAttrs(input)" title="{{fld.placeholder || fld.title}}">
							<label class="onoffswitch-label" [attr.for]="fld.name" (click)="setCheckbox(input)">
								<span class="onoffswitch-inner"></span>
								<span class="onoffswitch-switch"></span>
							</label>
						</div>
						<div class="checkbox" *ngIf="fld.checkbox">
							<input #input class="form-control" type="checkbox" name="{{fld.name}}"
								[checked]="getValue(input)" (focus)="setAttrs(input)" title="{{fld.placeholder || fld.title}}">
							<label [attr.for]="fld.name" (click)="setCheckbox($event.target)">{{fld.placeholder || fld.title}}</label>
						</div>
						<span style="display: block" *ngIf="binders[fld.name].touched && binders[fld.name].error"><span class="error">*</span> {{binders[fld.name].error}}</span>
					</div>
				</div>
				<div class="clearfix br"></div>
			</template>
			<div class="clearfix br"></div>
			<div class="grid-50 mobile-grid-40 grid-parent">
				<button class="btn btn-block btn-sm btn-blue ghost" (click)="hide($event)">{{ cancelLabel }}</button>
			</div>
			<div class="grid-50 mobile-grid-60 grid-parent align-right">
				<button class="btn btn-block btn-sm btn-green1" [disabled]="!valid" (click)="save()">{{ loading ? loadingLabel : saveLabel }} </button>
			</div>
		</div>
	</form>
</div>
